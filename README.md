# DS_Structure

6、模拟竞价系统（难度系数★★★★）
大米手机一贯采取饥饿营销，拥有大批“米粉”。该公司欲新推一款产品，宣
称因产能所限，首批货将采取客户通过手机号注册后竞拍的形式。当有 5 万名用
户参与竞价后，再根据实际产量来确定中标者，价高者得（若报价相同，先出价
者得）。注意：产品数量在竞拍期间未知，竞价完毕根据备货量确定！
为了激励高价，系统即时反馈当前的最高报价。为防止恶意虚报高价，破坏
竞拍，管理员不定时地监控当前最高价，并与可疑虚报者确认，若确认虚报，则
删除当前最高价。竞价结束后，备货数量可能是 1 台也许是 100 万台。
请您为该公司设计这样一个系统，来模拟竞拍过程。
考虑到实际运行的规模，请选择合适的数据结构和算法以保证系统即时性。
模拟系统应至少有如下模块：
接受报价模块：添加一条报价信息，并显示当前最高价；
删除报价模块：删除当前最高报价信息；
输出竞拍结果：根据给定产品数量，列出中标客户的信息（手机号及报价）；
例如，准备测试数据如左；
运行时，输入 A(添加一条报价)或 D(删除当前最大报价)，运行情况如右
（红色为用户输入，蓝色为系统的输出）：
13469987555 800 A 13469987555
报价
800 最高价： 800
13971845666 1340 A 13971845666
报价
1340 最高价： 1340
18945334222 880 A 18945334222
报价
880 最高价： 1340
15943789000 1500 A 15943789000
报价
1500 最高价： 1500
13478922444 99900 A 13478922444
报价
99900 最高价： 99900
13567779999 1551 A 13567779999
报价
1551 最高价： 99900
13289887777 1280 D 13478922444
被删
15678878888 1666 A 13289887777
报价
1280 最高价： 1551
15717121141 1340 A 15678878888
报价
1666 最高价： 1666
13565341668 1456 A 15717121141
报价
1340 最高价： 1666
13478907764 1000 A 13565341668
报价
1456 最高价： 1666
A 13478907764
报价
1000 最高价： 1666
有效报价：9 输入手机数量：5 竞标结果如下：
5
15678878888 1666
13567779999 1551
15943789000 1500
13565341668 1456
15717121141 1340
经测试，保证系统的正确性后，请简单修改系统以进行压力测试（比如 3000
人竞争 600 部产品）：随机生成测试数据（报价信息或删除命令）保存在文本文
件中（为方便生成数据，以顺序的 ID 流水号代替手机号；并手动在文件中插入
一些 D（删除）操作），系统将数据文件作为输入（用 fread 函数重定向输入设备
到指定文件）。并统计系统整个运行过程中的比较、移动（赋值） 操作的次数。
请与其他同课题小组商定数据格式，用统一数据文件来 PK 系统效率吧！

